/* empty css             */import{_ as H,r as n,C as T,w as S,o as l,i as c,k as V,D as g,y as W,z,f as e,d as M,g as _,a as x,e as f,F as $,G as P,u as F,E as K,H as R,I as G,m as J,J as q,K as U,c as O,L as Q,M as X,j as Y,N as Z}from"./index-WwTFQ9qb.js";/* empty css                        */import{g as ee,a as te}from"./activity-MO__opzA.js";import{g as se,r as ae}from"./notice-CyhROJF9.js";import"./el-message-fmrCKwlS.js";import"./request-g2T1sb5_.js";import"./user-CohggioG.js";const oe=u=>(W("data-v-364d6794"),u=u(),z(),u),ne=oe(()=>e("span",null,"|",-1)),le={__name:"printer",props:{printInfo:{type:String,default:"Hello World"},duration:{type:Number,default:100},delay:{type:Number,default:3e3},once:{type:Boolean,default:!1}},setup(u){const p=u,i=n(p.printInfo),y=n(!0),r=n(0),d=n(null),k=n(null),v=n(""),m=()=>{w("再催我，项目和我总得跑一个！")},w=t=>{v.value="",r.value=0,clearInterval(d.value),clearTimeout(k.value),i.value=t,h(C)};T(()=>{y.value?h(C):v.value=n(i)}),S([y,i],()=>{}),S(r,t=>{v.value=i.value.slice(0,t)});const h=t=>{k.value=setTimeout(()=>{d.value=setInterval(()=>{t(),r.value===0||r.value===i.value.length&&!p.once?(clearInterval(d.value),h(t)):r.value===i.value.length&&p.once&&clearInterval(d.value)},p.duration)},p.delay)},C=()=>{let t=r.value;t+=print.value?1:-1,print.value?t===i.value.length+1&&(t-=2,print.value=!print.value):t===-1&&(t+=2,print.value=!print.value),r.value=t},b=()=>{r.value=0,k.value!==null&&(clearTimeout(k.value),d.value!==null&&clearInterval(d.value)),y.value?h(C):v.value=i.value};return(t,B)=>(l(),c("h3",{onClick:m},[V(g(v.value)+" ",1),ne]))}},ie=H(le,[["__scopeId","data-v-364d6794"]]),I=u=>(W("data-v-52be6ffd"),u=u(),z(),u),ce={class:"home"},re={class:"welcome myCenter"},ue=I(()=>e("div",{slot:"error"},null,-1)),de={class:"welcome-content myCenter"},_e=I(()=>e("h1",{class:"welcome-title"},"Welcome to Planner Activity",-1)),ve={class:"printer"},pe=I(()=>e("div",{id:"bannerWave1"},null,-1)),me=I(()=>e("div",{id:"bannerWave2"},null,-1)),he={class:"main-container myCenter",id:"main-container"},fe={class:"container"},ge={class:"header"},ye={class:"header-left"},ke=I(()=>e("h3",{class:"hot-title"}," 热门活动 ",-1)),Ie={class:"banner"},we={class:"banner-item"},Ce={class:"title"},xe={class:"content"},be={class:"header-right"},Ne={class:"title-right"},Ae={class:"list-right"},$e={key:0},Pe={class:"sys_title"},Be={key:0,class:"read-dot"},Ee={class:"icon-title"},Se={class:"content_sys"},qe={class:"main-display"},He=I(()=>e("h3",{class:"display-title"}," 活动列表 ",-1)),Te={class:"display-container"},Ve={class:"card"},We=["onClick"],ze={class:"card-info"},je=["onClick"],De={class:"activity-content"},Le={key:0},Me={key:1},Fe={key:1,class:"no-more"},Ke="https://images.pexels.com/photos/23540856/pexels-photo-23540856.jpeg?auto=compress&cs=tinysrgb&w=600&lazy=load",Re=M({__name:"home",setup(u){const p=n("2024 05 23"),i=F(),y=n([]),r=n([]),d=n(!0),k=s=>{var o;(o=document.querySelector(s))==null||o.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},v=n([]),m=n(0),w=n(9),h=()=>{if(t.value===!0){K.warning("加载中");return}t.value=!0,m.value+=1,ee("","",m.value,w.value).then(s=>{s.data.code===200&&(s.data.data.totalElements===0?d.value:v.value.push(...s.data.data.content)),t.value=!1}).catch(s=>{if(m.value<3)for(let o=(m.value-1)*w.value;o<m.value*w.value;o++)v.value.push({id:o,name:"planner"+o,picture:"https://images.pexels.com/photos/23540856/pexels-photo-23540856.jpeg",info:"lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit"});else d.value=!1;t.value=!1})},C=()=>{te().then(s=>{s.data.code===200&&y.value.push(...s.data.data)}).catch(s=>{})},b=()=>{se().then(s=>{console.log("==========="),console.log(s.data),s.data.code===200&&r.value.push(...s.data.data)}).catch(s=>{})};T(()=>{h(),C(),b()});const t=n(!1),B=s=>{ae(s.id),s.state="已读"};return(s,o)=>{const N=R,j=ie,D=Z,L=G,E=J;return l(),c("div",ce,[e("div",re,[o[0]||(q(-1),o[0]=_(N,{src:Ke,fit:"cover",class:"welcome-img"},{default:x(()=>[ue]),_:1}),q(1),o[0]),e("div",de,[_e,e("div",ve,[_(j,{printInfo:p.value},null,8,["printInfo"])]),pe,me,e("i",{class:"arrow-down",onClick:o[1]||(o[1]=a=>k("#main-container"))},[_(f(U),{size:"80px"})])])]),e("div",he,[e("div",fe,[e("div",ge,[e("div",ye,[ke,e("div",Ie,[_(L,null,{default:x(()=>[(l(!0),c($,null,P(y.value,a=>(l(),O(D,null,{default:x(()=>[e("div",we,[e("h2",Ce,g(a.name),1),e("p",xe,g(a.info),1),_(N,{src:a.picture,onClick:A=>f(i).push({name:"activity",params:{id:a.id}}),fit:"cover",class:"image"},null,8,["src","onClick"])])]),_:2},1024))),256))]),_:1})])]),e("div",be,[e("h4",Ne,[V(" 最新通知 "),_(E,{class:"el-icon-vertical",onClick:o[2]||(o[2]=a=>f(i).push({name:"notice"}))},{default:x(()=>[_(f(Q))]),_:1})]),e("ul",Ae,[r.value.length===0?(l(),c("li",$e,"暂无通知")):(l(!0),c($,{key:1},P(r.value,a=>(l(),c("li",null,[e("div",Pe,[_(E,{class:"el-icon-vertical",onClick:A=>B(a)},{default:x(()=>[_(f(X)),a.state==="未读"?(l(),c("span",Be)):Y("",!0)]),_:2},1032,["onClick"]),e("span",Ee,g(a.notice_type_id),1)]),e("p",Se,g(a.context),1)]))),256))])])]),e("div",qe,[He,e("ul",Te,[(l(!0),c($,null,P(v.value,a=>(l(),c("li",Ve,[e("div",{class:"card-img",onClick:A=>f(i).push({name:"activity",params:{id:a.id}})},[_(N,{src:a.picture,fit:"cover",class:"card-img-content"},null,8,["src"])],8,We),e("div",ze,[e("h3",{class:"activity-title",onClick:A=>f(i).push({name:"activity",params:{id:a.id}})},g(a.name),9,je),e("p",De,g(a.info),1)])]))),256))]),d.value?(l(),c("div",{key:0,class:"nextPage",onClick:o[3]||(o[3]=a=>h())},[t.value?(l(),c("span",Me," 加载中 ")):(l(),c("span",Le," 下一页 "))])):(l(),c("div",Fe," ~~到底了~~ "))])])])])}}}),et=H(Re,[["__scopeId","data-v-52be6ffd"]]);export{et as default};
